<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Trang sinh nh·∫≠t ƒë·∫∑c bi·ªát d√†nh t·∫∑ng th·∫ßy ƒêi·ªáp - L·ªõp 10A6 Nh√† S√≤">
    <title>Nh√† S√≤ 10A6 - Ch√∫c M·ª´ng Sinh Nh·∫≠t Th·∫ßy ƒêi·ªáp</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>
    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>
    <div id="cursor-trail"></div>

    <!-- ================================ -->
    <!-- INTRO SCREEN - M√†n h√¨nh ch·ªù -->
    <!-- ================================ -->
    <div id="intro-screen">
        <!-- Animated Bubbles Background -->
        <div class="bubbles-container" id="bubble-container"></div>
        
        <!-- Animated Waves -->
        <div class="ocean-waves">
            <div class="wave wave1"></div>
            <div class="wave wave2"></div>
            <div class="wave wave3"></div>
        </div>

        <!-- Giant Clam with Pearl -->
        <div class="giant-clam-container" id="clam-container">
            <div class="clam-glow"></div>
            <div class="clam-shell clam-shell-top"></div>
            <div class="pearl-input-wrapper">
                <div class="pearl-glow"></div>
                <p class="label-pass">üêö NH·∫¨P M·∫¨T M√É üêö</p>
                <input type="password" id="password-input" placeholder="Sƒ© s·ªë l·ªõp?" autocomplete="off" maxlength="2">
                <button id="submit-btn">
                    <span>M·ªû QU√Ä</span>
                    <div class="button-shine"></div>
                </button>
                <p class="hint-text">G·ª£i √Ω: C√≥ bao nhi√™u con S√≤? ü§î</p>
            </div>
            <div class="clam-shell clam-shell-bottom"></div>
        </div>

        <!-- Intro Text -->
        <div class="intro-text">
            <h1 class="glowing-text">üåä Nh√† S√≤ 10A6 Xin Ch√†o! üåä</h1>
            <p class="subtitle-intro">B·∫•m v√†o con S√≤ ƒë·ªÉ m·ªü c√°nh c·ª≠a k·ª∑ ni·ªám...</p>
            <div class="floating-icons">
                <span>üéÇ</span>
                <span>üéâ</span>
                <span>üéÅ</span>
                <span>üéà</span>
            </div>
        </div>

        <!-- Loading Animation -->
        <div class="loading-animation" id="loading-animation">
            <div class="loading-spinner"></div>
            <p>ƒêang m·ªü qu√† t·∫∑ng...</p>
        </div>
    </div>

    <!-- ================================ -->
    <!-- MAIN CONTENT - N·ªôi dung ch√≠nh -->
    <!-- ================================ -->
    <main id="main-content" class="hidden">
        
        <!-- Floating Music Control -->
        <div class="music-control" id="music-control">
            <button id="music-toggle" class="music-btn">
                <span class="music-icon">üéµ</span>
                <span class="music-text">Music ON</span>
            </button>
        </div>

        <!-- Header Section -->
        <header class="main-header">
            <div class="header-decoration">
                <div class="balloon balloon-1">üéà</div>
                <div class="balloon balloon-2">üéà</div>
                <div class="balloon balloon-3">üéà</div>
            </div>
            
            <div class="teacher-box">
                <div class="avatar-frame">
                    <img src="{{ url_for('static', filename='img/teacher_avatar.jpg') }}" alt="Th·∫ßy ƒêi·ªáp" class="teacher-avatar">
                    <div class="avatar-ring"></div>
                </div>
            </div>
            
            <h1 class="title-text">
                <span class="title-word">Happy</span>
                <span class="title-word">Birthday</span>
                <span class="title-word">Th·∫ßy</span>
                <span class="title-word">ƒêi·ªáp!</span>
            </h1>
            
            <p class="subtitle">üö¢ Captain c·ªßa ƒë·∫°i gia ƒë√¨nh Nh√† S√≤ 10A6 üêö</p>
            
            <div class="sparkles">
                <span class="sparkle">‚ú®</span>
                <span class="sparkle">‚ú®</span>
                <span class="sparkle">‚ú®</span>
            </div>
        </header>

        <!-- Birthday Cake Animation -->
        <section class="card cake-section">
            <div class="birthday-cake">
                <div class="cake-layer cake-layer-1"></div>
                <div class="cake-layer cake-layer-2"></div>
                <div class="cake-layer cake-layer-3"></div>
                <div class="candle">
                    <div class="flame"></div>
                </div>
                <div class="cake-text">üéÇ</div>
            </div>
            <button class="blow-candle-btn" id="blow-candle-btn">
                üå¨Ô∏è Th·ªïi n·∫øn ƒëi th·∫ßy!
            </button>
        </section>

        <!-- Time Counter & Patience Bar -->
        <section class="card counter-card">
            <div class="counter-box">
                <h2 class="section-title">
                    <span class="title-icon">‚è∞</span>
                    S·ªï Bi·ªÉn K·ªÉ Chuy·ªán
                    <span class="title-icon">üìñ</span>
                </h2>
                <p class="counter-intro">Th·∫ßy ƒë√£ ƒë·ªìng h√†nh c√πng Nh√† S√≤ ƒë∆∞·ª£c:</p>
                
                <div id="time-counter">
                    <div class="time-unit">
                        <span class="time-value" id="days">0</span>
                        <span class="time-label">Ng√†y</span>
                    </div>
                    <div class="time-separator">:</div>
                    <div class="time-unit">
                        <span class="time-value" id="hours">0</span>
                        <span class="time-label">Gi·ªù</span>
                    </div>
                    <div class="time-separator">:</div>
                    <div class="time-unit">
                        <span class="time-value" id="minutes">0</span>
                        <span class="time-label">Ph√∫t</span>
                    </div>
                    <div class="time-separator">:</div>
                    <div class="time-unit">
                        <span class="time-value" id="seconds">0</span>
                        <span class="time-label">Gi√¢y</span>
                    </div>
                </div>
                
                <div class="patience-container">
                    <p class="patience-title">
                        <span>üò§</span>
                        ƒê·ªô ki√™n nh·∫´n c·ªßa th·∫ßy v·ªõi 10A6:
                        <span>üí™</span>
                    </p>
                    <div class="patience-track">
                        <div id="patience-bar">
                            <span class="patience-percent"></span>
                        </div>
                    </div>
                    <p class="patience-status" id="patience-status">ƒêang t·∫£i...</p>
                </div>

                <!-- Fun Stats -->
                <div class="fun-stats">
                    <div class="stat-item">
                        <span class="stat-number">47</span>
                        <span class="stat-label">Con S√≤</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" >n*</span>
                        <span class="stat-label">K·ª∑ Ni·ªám</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">‚àû</span>
                        <span class="stat-label">T√¨nh Th·∫ßy Tr√≤</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Memory Wall (Photos) -->
        <section class="card photo-section">
            <h2 class="section-title">
                <span class="title-icon">üì∏</span>
                B·ª©c T∆∞·ªùng K·ª∑ Ni·ªám 10A6
                <span class="title-icon">üíù</span>
            </h2>
            <p class="section-subtitle">Nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp nh·∫•t c·ªßa ch√∫ng ta</p>
            
            <div class="photo-wall">
                {% if class_photos %}
                    {% for photo in class_photos %}
                    <div class="polaroid" data-index="{{ loop.index }}">
                        <img src="{{ url_for('static', filename='img/' + photo) }}" alt="Memory {{ loop.index }}" loading="lazy">
                        <div class="caption">Memory #{{ loop.index }}</div>
                        <div class="polaroid-tape"></div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="no-photos">
                        <p>üì∑ Ch∆∞a c√≥ ·∫£nh n√†o. H√£y th√™m ·∫£nh v√†o th∆∞ m·ª•c <code>static/img/</code></p>
                    </div>
                {% endif %}
            </div>
        </section>

        <!-- Birthday Wishes from Students -->
        <section class="card wishes-section">
            <h2 class="section-title">
                <span class="title-icon">üíå</span>
                L·ªùi ch√∫c t·ª´ 47 "Con S√≤"
                <span class="title-icon">üêö</span>
            </h2>
            <p class="section-subtitle">Nh·∫•n v√†o t·ª´ng con s√≤ ƒë·ªÉ xem l·ªùi ch√∫c nh√©!</p>
            
            <div class="wishes-grid">
                {% for student in students %}
                <div class="shell" data-name="{{ student.name }}" data-msg="{{ student.msg }}" data-index="{{ loop.index }}">
                    <div class="shell-glow"></div>
                    <div class="shell-top"></div>
                    <div class="shell-bottom"></div>
                    <div class="pearl">
                        <span class="pearl-number">{{ loop.index }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Interactive Quiz/Game Section -->
        <section class="card quiz-section">
            <h2 class="section-title">
                <span class="title-icon">üéÆ</span>
                Th·ª≠ Th√°ch C√πng Th·∫ßy
                <span class="title-icon">üèÜ</span>
            </h2>
            <div class="quiz-container">
                <p class="quiz-question">Th·∫ßy c√≥ nh·ªõ t√™n t·∫•t c·∫£ 47 con s√≤ kh√¥ng? üòÅ</p>
                <div class="quiz-options">
                    <button class="quiz-btn" data-answer="yes">T·∫•t nhi√™n r·ªìi! üíØ</button>
                    <button class="quiz-btn" data-answer="no">ƒê·ªÉ th·∫ßy xem l·∫°i... ü§î</button>
                    <button class="quiz-btn" data-answer="maybe">Nh·ªõ h·∫øt... t√™n h·ªç! üòÖ</button>
                </div>
                <div class="quiz-result hidden" id="quiz-result"></div>
            </div>
        </section>

        <!-- Promise Section -->
        <section class="card promise-section">
            <h2 class="section-title">
                <span class="title-icon">ü§ù</span>
                L·ªùi H·ª©a 2026
                <span class="title-icon">üíñ</span>
            </h2>
            <p class="promise-question">Th·∫ßy h·ª©a s·∫Ω d·∫Øt t·ª•i em ƒëi h·∫øt c·∫•p 3 nha th·∫ßy? ü•∫</p>
            
            <div class="promise-buttons">
                <button id="yes-btn" class="promise-btn promise-yes">
                    <span>‚úÖ Ch·ªët lu√¥n!</span>
                </button>
                <button id="no-btn" class="promise-btn promise-no">
                    <span>ü§î ƒê·ªÉ th·∫ßy suy nghƒ©...</span>
                </button>
            </div>
            
            <div class="promise-result hidden" id="promise-result">
                <p></p>
            </div>
        </section>

        <!-- Special Message Section -->
        <section class="card message-section">
            <h2 class="section-title">
                <span class="title-icon">üíù</span>
                Th√¥ng ƒêi·ªáp ƒê·∫∑c Bi·ªát
                <span class="title-icon">üíù</span>
            </h2>
            <div class="special-message">
                <p class="message-text">
                    K√≠nh g·ª≠i th·∫ßy ƒêi·ªáp th√¢n y√™u,<br><br>
                    
                    Trong h√†nh tr√¨nh ƒë·∫ßu c·∫•p 3 gian nan, c√≥ m·ªôt ng∆∞·ªùi th·∫ßy lu√¥n ki√™n nh·∫´n, t·∫≠n t√¢m v√† ƒë·ªìng h√†nh c√πng ch√∫ng em - ƒë√≥ ch√≠nh l√† th·∫ßy. 
                    Th·∫ßy kh√¥ng ch·ªâ l√† ng∆∞·ªùi truy·ªÅn ƒë·∫°t ki·∫øn th·ª©c, m√† c√≤n l√† ng∆∞·ªùi b·∫°n, l√† ng∆∞·ªùi thuy·ªÅn tr∆∞·ªüng d·∫´n d·∫Øt con thuy·ªÅn Nh√† S√≤ 10A6 v∆∞·ª£t qua m·ªçi s√≥ng gi√≥.<br><br>
                    
                    Ng√†y h√¥m nay, nh√¢n d·ªãp sinh nh·∫≠t c·ªßa th·∫ßy, 47 con s√≤ ch√∫ng em xin g·ª≠i ƒë·∫øn th·∫ßy nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t. 
                    Ch√∫c th·∫ßy lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c, v√† ti·∫øp t·ª•c l√† ng·ªçn h·∫£i ƒëƒÉng soi s√°ng con ƒë∆∞·ªùng tri th·ª©c cho bi·∫øt bao th·∫ø h·ªá h·ªçc tr√≤.<br><br>
                    
                    C·∫£m ∆°n th·∫ßy v√¨ t·∫•t c·∫£! ‚ù§Ô∏è<br><br>
                    
                    <strong>- L·ªõp 10A6, THPT Nguy·ªÖn Khuy·∫øn, BRVT -</strong>
                </p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <p class="footer-text">üíª Coded with ‚ù§Ô∏è by Team Nh√† S√≤</p>
                <p class="footer-copyright">¬© 2026 - THPT Nguy·ªÖn Khuy·∫øn BRVT</p>
                <div class="footer-social">
                    <span>üåü</span>
                    <span>Happy Birthday Th·∫ßy ƒêi·ªáp</span>
                    <span>üåü</span>
                </div>
            </div>
            
            <button class="scroll-top" id="scroll-top">
                <span>‚¨ÜÔ∏è</span>
            </button>
        </footer>
    </main>

    <!-- ================================ -->
    <!-- MODALS & OVERLAYS -->
    <!-- ================================ -->
    
    <!-- Lightbox for Photos -->
    <div id="lightbox" class="hidden">
        <div class="lightbox-content">
            <button class="close-btn" id="close-lightbox">
                <span>‚úï</span>
            </button>
            <button class="nav-btn prev-btn" id="prev-photo">‚Äπ</button>
            <button class="nav-btn next-btn" id="next-photo">‚Ä∫</button>
            <img id="lightbox-img" src="" alt="Photo">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>
    </div>

    <!-- Wish Modal -->
    <div id="wish-modal" class="hidden">
        <div class="modal-content wish-modal-content">
            <button class="close-btn" id="close-modal">
                <span>‚úï</span>
            </button>
            <div class="modal-header">
                <div class="student-avatar">üë§</div>
                <h3 id="modal-name"></h3>
            </div>
            <div class="modal-body">
                <div class="message-bubble">
                    <p id="modal-msg"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Background Music Player -->
    <audio id="bg-music" loop></audio>

    <!-- Pass music playlist to JavaScript -->
    <script>
        const musicPlaylistFromServer = {{ music_playlist | tojson }};
        const totalPhotos = {{ class_photos|length }};
    </script>

    <!-- Main JavaScript -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>